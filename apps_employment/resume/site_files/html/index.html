<!DOCTYPE html>
<html lang="en" data-ng-app="myApp" x-permissions="login">
  <head x-import="head.html"> </head>

  <body class="##session.lang## loaded" ng-controller="resume">
    <nav x-import="0/bar.html" class="sitebar" ng-controller="bar"></nav>

    <nav class="sitebottom" x-import="0/footer.html" ng-controller="footer"></nav>
    <div id="main-layout" class="container" id="resumeModal">
      <div class="row">
        <div x-import="resume/profile.html"></div>
        <div x-import="resume/education_modal.html"></div>
        <div x-import="resume/certificate_modal.html"></div>
        <div x-import="resume/extra_curricular_modal.html"></div>
        <div x-import="resume/work_experience_modal.html"></div>
        <div x-import="resume/remove_short.html"></div>

        <div class="row">

          <div class="col7">
            <div class="row">
              <div class="col3">
                <i-image x-permissions="job_seeker" ng-change="update(user)" ng-model="user.image"></i-image>
                <i-image view x-permissions="employer || admin" ng-model="user.image"></i-image>
              </div>
              <div class="col4">
                <br>
                <br>
                <h2>{{user.first_name}}</h2> <i class="fas fa-pen pointer" onclick="site.showModal( '#profileModal')" aria-hidden="true"></i>
                <b>{{user.job_title}}</b>
              </div>
            </div>
            <div class="row">
              <div class="col3"></div>
              <div class="col3">
                <b>{{user.country.name_##session.lang##}} , {{user.city.name_##session.lang##}} </b>
                <i class="fa fa-map-marker" aria-hidden="true"></i>
              </div>

            </div>
          </div>

          <div class="col5">
            <div class="row" ng-hide="'##user.role.name##' == 'employer' && short == false">
              <p>{{user.website}} <i class="fa fa-globe" aria-hidden="true"></i></p>
              <p>{{user.phone}} <i class="fa fa-phone-square" aria-hidden="true"></i></p>
              <p>{{user.email}} <i class="fa fa-envelope" aria-hidden="true"></i></p>
              <p>{{user.linkedin}} <i class="fa fa-linkedin" aria-hidden="true"></i></p>
            </div>
            <i-button x-permissions="employer" ng-show="short == false" label="##word.shortlist##" ng-click="shortList(user,'add')"></i-button>
            <i-button x-permissions="employer" ng-show="short == true" label="##word.remove_shortlist##" onclick="site.showModal( '#removeShortModal')"></i-button>

            <div class="row" ng-show="short == false">
              <b >##word.contact_info_displayed_if_shortlist_candidate##</b>
            </div>

          </div>
        </div>

        <br />
        <br />
        <br />

        <div class="row">

          <div class="col8">

            <div class="row">
              <fieldset>
                <legend>
                  ##word.about_me##
                  <i-button x-permissions="job_seeker" type="edit default" ng-hide="user.$edit_about_me" ng-click="user.$edit_about_me = true; about_me = user.about_me"></i-button>
                  <i-button x-permissions="job_seeker" type="save default" ng-show="user.$edit_about_me" ng-click="user.$edit_about_me = false; user.about_me = about_me ; update(user)"></i-button>
                  <i-button x-permissions="job_seeker" type="close default" ng-show="user.$edit_about_me" ng-click="user.$edit_about_me = false"></i-button>
                </legend>

              <i-textarea ng-show="user.$edit_about_me" ng-model="about_me">
              </i-textarea>

              <b ng-hide="user.$edit_about_me" class="lines_text">{{user.about_me}}</b>
            </fieldset>
          </div>

            <div class="row">
              <fieldset>
                <legend>
                  ##word.education##
                  <i-button x-permissions="job_seeker" type="add default" ng-click="showEducation('add')"></i-button>
                </legend>
                <div class="row" ng-repeat="e in user.educations_list">
                    <b>{{e.university_name}}</b> 
                    <b ng-show="e.joining_date">{{e.joining_date | date:"dd/MM/yyyy"}} - </b>
                    <b ng-show="e.expiry_date">{{e.expiry_date | date:"dd/MM/yyyy"}}  </b>
                    <i-button x-permissions="job_seeker" type="edit default" ng-click="showEducation('edit',e)"></i-button>
                    <i-button x-permissions="job_seeker" type="delete default" ng-click="user.educations_list.splice($index,1) ; update(user)"></i-button>
                    <b>{{e.faculty_name}}</b>
                    <p class="lines_text">{{e.description}}</p>
                  </div>
              </fieldset>
            </div>

            <div class="row">
              <fieldset>
                <legend>
                  ##word.work_experience##
                  <i-button x-permissions="job_seeker" type="add default" ng-click="showWorkExperience('add')"></i-button>
                </legend>
                <div class="row" ng-repeat="e in user.work_experience_list">
                    <b>{{e.company_name}}</b> 
                    <b ng-show="e.joining_date">{{e.joining_date | date:"dd/MM/yyyy"}} - </b>
                    <b ng-show="e.expiry_date">{{e.expiry_date | date:"dd/MM/yyyy"}} </b>
                    <i-button x-permissions="job_seeker" type="edit default" ng-click="showWorkExperience('edit',e)"></i-button>
                    <i-button x-permissions="job_seeker" type="delete default" ng-click="user.work_experience_list.splice($index,1) ; update(user)"></i-button>
                    <b>{{e.job_title}}</b>
                    <p class="lines_text">{{e.description}}</p>
                  </div>
              </fieldset>
            </div>

            <div class="row">
              <fieldset>
                <legend>
                  ##word.certificates##
                  <i-button x-permissions="job_seeker" type="add default" ng-click="showCertificate('add')"></i-button>
                </legend>
                <div class="row" ng-repeat="e in user.certificates_list">
                    <b>{{e.certificate_name}}</b> 
                    <b>{{e.certificate_date | date:"dd/MM/yyyy"}}  </b>
                    <i-button x-permissions="job_seeker" type="edit default" ng-click="showCertificate('edit',e)"></i-button>
                    <i-button x-permissions="job_seeker" type="delete default" ng-click="user.certificates_list.splice($index,1) ; update(user)"></i-button>
                    <p class="lines_text">{{e.description}}</p>
                  </div>
              </fieldset>
            </div>
  
            <div class="row">
              <fieldset>
                <legend>
                  ##word.extra_curricular##
                  <i-button x-permissions="job_seeker" type="add default" ng-click="showExtraCurricular('add')"></i-button>
                </legend>
                <div class="row" ng-repeat="e in user.extra_curricular_list">
                    <b>{{e.enterprise_name}}</b> 
                    <b ng-show="e.joining_date">{{e.joining_date | date:"dd/MM/yyyy"}}  </b>
                    <b ng-show="e.expiry_date">{{e.expiry_date | date:"dd/MM/yyyy"}} - </b>
                    <i-button x-permissions="job_seeker" type="edit default" ng-click="showExtraCurricular('edit',e)"></i-button>
                    <i-button x-permissions="job_seeker" type="delete default" ng-click="user.extra_curricular_list.splice($index,1) ; update(user)"></i-button>
                    <b>{{e.job_title}}</b>
                    <p class="lines_text">{{e.description}}</p>
                  </div>
              </fieldset>
            </div>

          </div>

          <div class="col4">
            <div class="row" id="editProfileModal">

                  <fieldset>
                    <legend>
                      <i-button x-permissions="job_seeker" type="edit default" ng-hide="profile.$edit_profile" ng-click="editProfile(profile,'edit')"></i-button>
                      <i-button x-permissions="job_seeker" type="save default" ng-show="profile.$edit_profile" ng-click="editProfile(profile,'save')"></i-button>
                      <i-button x-permissions="job_seeker" type="close default" ng-show="profile.$edit_profile" ng-click="editProfile(profile,'close')"></i-button>
                    </legend>

                    <div class="row">
                      <b>##word.experience##</b>
                      <p ng-hide="profile.$edit_profile">{{user.experience.name_##session.lang##}}</p>
                      <i-list   v="r" ng-show="profile.$edit_profile" ng-model="profile.experience"
                      display="name_##session.lang##" items="yearsOfExperienceList" ng-search="_search.$user_profile_experience"></i-list>
                    </div>

                    <div class="row">
                      <b>##word.age##</b>
                      <p ng-hide="profile.$edit_profile">{{user.age | date:"dd/MM/yyyy"}}</p>
                      <i-date ng-show="profile.$edit_profile" ng-model="profile.age"> </i-date>
                    </div>

                    <div class="row">
                      <b>##word.languages##</b>
                      <p ng-hide="profile.$edit_profile"><b ng-repeat="l in user.languages">{{l.name_##session.lang##}} , </b>
                      </p>
                      <i-checklist   v="r" ng-show="profile.$edit_profile" ng-model="profile.languages"
                      display="name_##session.lang##" items="languagesList" ng-search="_search.$user_profile_languages"></i-checklist>
                    </div>

                    <div class="row">
                      <b>##word.qualification##</b>
                      <p ng-hide="profile.$edit_profile">{{user.qualification.name_##session.lang##}}</p>
                      <i-list   v="r" ng-show="profile.$edit_profile" ng-model="profile.qualification"
                      display="name_##session.lang##" items="qualificationList" ng-search="_search.$user_profile_qualification"></i-list>
                    </div>
      
                  </fieldset>

             </div>

             <div class="row">
              <fieldset>
                <legend>##word.attachments##</legend>
                <i-file ng-change="update(user)" label="##word.upload_cover_letter##" categoty="upload_cover_letter" ng-model="user.upload_cover_letter"></i-file>
                <i-file ng-change="update(user)" label="##word.upload_resume##" categoty="upload_resume" ng-model="user.upload_resume"></i-file>

              </fieldset>
             </div>
          </div>

        </div>
        
      </div>
    </div>

    <div x-import="0/scripts.html"></div>
    <script x-import="resume/index.js"></script>
  </body>
</html>